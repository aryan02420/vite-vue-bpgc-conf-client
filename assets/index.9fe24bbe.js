import{r as e,c as t,w as o,E as n,d as s,a,b as r,t as i,e as l,o as m,f as u,g as c,h as d,p,i as v,j as f,T as h,F as g,k as x,l as b,u as y,m as w,n as k,q as C,s as I,v as S,K as T,x as R,y as q,z as A}from"./vendor.dc76c35f.js";let P;const _=e({loading:!0,isAuthenticated:!1,user:{},popupOpen:!1,error:null});const L={isAuthenticated:t((()=>_.isAuthenticated)),loading:t((()=>_.loading)),user:t((()=>_.user)),getIdTokenClaims:function(e){return P.getIdTokenClaims(e)},getTokenSilently:function(e){return P.getTokenSilently(e)},getTokenWithPopup:function(e){return P.getTokenWithPopup(e)},handleRedirectCallback:async function(){_.loading=!0;try{await P.handleRedirectCallback(),_.user=await P.getUser(),_.isAuthenticated=!0}catch(e){_.error=e}finally{_.loading=!1}},loginWithRedirect:function(e){return P.loginWithRedirect(e)},loginWithPopup:function(e){return P.loginWithPopup(e)},logout:function(e){return P.logout(e)}};const E={init:async function(e){P=await n({domain:e.domain,client_id:e.clientId,audience:e.audience,redirect_uri:e.redirectUri,useRefreshTokens:e.useRefrestTokens});try{if(window.location.search.includes("code=")&&window.location.search.includes("state=")){const{appState:t}=await P.handleRedirectCallback();e.onRedirectCallback(t)}}catch(t){_.error=t}finally{_.isAuthenticated=await P.isAuthenticated(),_.user=await P.getUser(),_.loading=!1}return{install:e=>{e.provide("Auth",L)}}},routeGuard:(e,t,n)=>{const{isAuthenticated:s,loading:a,loginWithRedirect:r}=L,i=async()=>{if(s.value)return n();await r({appState:{targetUrl:e.fullPath}})};if(!a.value)return i();o((()=>{if(!a.value)return i()}))}};var U=s({name:"UserInfoSmall",props:{name:{type:String,required:!1,default:"Anonymous"},color:{type:String,required:!1},imgsize:{type:Number,required:!1,default:1.5},status:{type:String,required:!1,default:"hidden"}},computed:{profileURL(){return`/user/${this.name}`},profileImageURL(){return`https://identicon-api.herokuapp.com/${this.name}/100?format=png&config=e4e7f4ff10da40241f3b143f`},profileImageSize(){return`${this.imgsize}rem`}}});const M=l()(((e,t,o,n,s,l)=>(m(),a("div",{class:"flex flex-row items-center w-auto gap-x-1 text-username",style:{color:e.color}},[r("a",{href:e.profileURL,class:["ml-2 font-bold rounded-full select-none flex-grow-0 flex-shrink-0",`user-status user-status-${e.status}`]},[r("img",{class:"overflow-hidden bg-white rounded-full ring-2 ring-opacity-30 ring-gray-500",src:e.profileImageURL,alt:e.name,loading:"lazy",style:{width:e.profileImageSize,height:e.profileImageSize}},null,12,["src","alt"])],10,["href"]),r("a",{href:e.profileURL,class:"px-1 text-sm font-bold hover:underline","data-username":!0},i(e.name),9,["href"])],4))));U.render=M,U.__scopeId="data-v-3486fbde";var $=s({name:"SmallButton",emits:["clicked-event"],props:{text:{type:[Number,String],required:!1,default:""},icon:{type:String,required:!1,default:""}}});const N={key:1,class:"text-sm mr-0.5"};$.render=function(e,t,o,n,s,r){return m(),a("div",{tabindex:"0",onClick:t[1]||(t[1]=t=>e.$emit("clicked-event")),onKeyup:t[2]||(t[2]=c((t=>e.$emit("clicked-event")),["enter"])),class:"flex flex-row items-center w-auto p-2 rounded-full gap-x-0 hover-effect"},[e.icon?(m(),a("span",{key:0,class:["material-icons material-icons-round",{"mr-1":!!e.text}]},i(e.icon),3)):u("",!0),e.text?(m(),a("span",N,i(e.text),1)):u("",!0)],32)};var V=s({name:"DateInfo",props:{date:{type:Number,required:!0}},computed:{dateToString(){return new Date(this.date).toDateString()}}});const B={class:"text-xs"};V.render=function(e,t,o,n,s,r){return m(),a("span",B,i(e.dateToString),1)};var j=s({name:"Separator"});const D={class:"m-1 select-none"};j.render=function(e,t,o,n,s,r){return m(),a("div",D,"Â·")};var O=s({name:"Container",components:{UserInfoSmall:U,SmallButton:$,DateInfo:V,Separator:j},props:{postInfo:{type:Object,required:!0}},data:()=>({commentsVisible:!1,isBookmarked:!1}),methods:{toggleCommentsVisibility(){this.commentsVisible=!this.commentsVisible},reply(){console.log("this: ",this.$el.id,"\ntlc: ",this)},share(){console.log(this.$el.id)},report(){console.log(this.$el.id)},vote(e){this.postInfo.voted==e&&(e=0),console.log(this.$el.id,e)},bookmark(){this.isBookmarked=!this.isBookmarked}},computed:{commentsExist(){return!!this.postInfo.numComments&&this.postInfo.numComments>0}}});const z=l();p("data-v-2c4c8688");const H={class:"overflow-hidden scroll-margin"},G={class:"flex flex-col bg-inherit px-3 py-3 gap-0.5"},K={class:"flex flex-row items-center justify-between"},W={class:"flex flex-row items-center justify-end gap-1"},F={class:"mx-2"},Y={class:"flex flex-row items-center gap-0 -mt-1 -mb-1"},J={key:0,class:"pl-5 bg-gray-500 bg-opacity-5"};v();const Q=z(((e,t,o,n,s,i)=>{const l=f("UserInfoSmall"),c=f("DateInfo"),p=f("SmallButton");return m(),a("div",H,[r("div",G,[r("div",K,[r(l,{name:e.postInfo.userName,color:e.postInfo.userColor,imgsize:e.postInfo.userImgSize,status:e.postInfo.userStatus},null,8,["name","color","imgsize","status"]),r("div",W,[r(c,{date:e.postInfo.date},null,8,["date"]),r(p,{icon:"more_vert",class:"-mr-2"})])]),r("div",F,[d(e.$slots,"main",{},void 0,!0)]),r("div",Y,[r(p,{text:e.postInfo.numUpvotes,icon:"thumb_up",class:[{"text-color-primary":1===e.postInfo.voted,"text-disabled":-1===e.postInfo.voted}],onClickedEvent:t[1]||(t[1]=t=>e.vote(1))},null,8,["text","class"]),r(p,{text:e.postInfo.numDownvotes,icon:"thumb_down",class:[{"text-color-secondary":-1===e.postInfo.voted,"text-disabled":1===e.postInfo.voted}],onClickedEvent:t[2]||(t[2]=t=>e.vote(-1))},null,8,["text","class"]),e.postInfo.showSubComments&&e.commentsExist?(m(),a(p,{key:0,text:e.postInfo.numComments,icon:"mode_comment",class:[{"text-color-primary":e.commentsVisible}],onClickedEvent:e.toggleCommentsVisibility},null,8,["text","class","onClickedEvent"])):u("",!0),r(p,{text:"reply",onClickedEvent:e.reply},null,8,["onClickedEvent"]),r(p,{text:e.isBookmarked?"saved":"save",class:[{"text-color-secondary":e.isBookmarked}],onClickedEvent:e.bookmark},null,8,["text","class","onClickedEvent"]),r(p,{text:"share",onClickedEvent:e.share},null,8,["onClickedEvent"]),r(p,{text:"report",onClickedEvent:e.report},null,8,["onClickedEvent"])])]),r(h,{name:"collapse"},{default:z((()=>[e.commentsVisible?(m(),a("div",J,[d(e.$slots,"comments",{},void 0,!0)])):u("",!0)])),_:3})])}));O.render=Q,O.__scopeId="data-v-2c4c8688";var X=s({name:"Meta",props:{channel:{type:String,required:!0},tags:{type:Array,default:()=>[]}},computed:{channelURL(){return`/channel/${this.channel}`}},methods:{tagUrl:e=>`/tag/${e}`}});const Z={class:"flex flex-row flex-wrap items-baseline w-auto gap-1"};X.render=function(e,t,o,n,s,l){return m(),a("div",Z,[r("a",{class:"mr-1 text-sm hover:text-color-primary hover:underline",href:e.channelURL},"#"+i(e.channel),9,["href"]),(m(!0),a(g,null,x(e.tags,(t=>(m(),a("a",{key:t,class:"px-2 -mx-1 text-xs rounded-full hover:text-secondary",href:e.tagUrl(t)},i(t),9,["href"])))),128))])};var ee=s({name:"Markdown",props:{rawContent:{type:String,required:!0},readMore:{type:Boolean,required:!1,default:!1}},computed:{HTMLContent(){return`<h1>${this.rawContent}</h1>`}},setup:e=>({readmore:b(e.readMore)}),mounted(){this.$nextTick((function(){this.readmore&&(this.readmore=this.$refs.content.scrollHeight>96)}))},methods:{expand(){this.readmore=!1}}});ee.render=function(e,t,o,n,s,i){return m(),a("div",null,[r("div",{ref:"content",onClickOnce:t[1]||(t[1]=(...t)=>e.expand&&e.expand(...t)),class:["markdown overflow-hidden h-auto text-secondary",{"max-h-24 cursor-pointer":e.readmore}],innerHTML:e.HTMLContent},null,42,["innerHTML"]),e.readmore?(m(),a("div",{key:0,onClick:t[2]||(t[2]=(...t)=>e.expand&&e.expand(...t)),onKeyup:t[3]||(t[3]=c(((...t)=>e.expand&&e.expand(...t)),["enter"])),tabindex:"0",class:"text-sm cursor-pointer select-none max-w-max -mt-0.5"}," read more... ",32)):u("",!0)])};var te=s({name:"Poll",emits:["clicked-event"],props:{options:{type:Array,required:!0},voted:{type:Number,required:!1,default:0}},methods:{getPercentVotes:e=>100*Math.random(),styleObj(e){return{"--vote-width":`${this.getPercentVotes(e)}%`}},sendPollVote(e){this.voted==e&&(e=0),this.$emit("clicked-event",e)}},computed:{filteredOptions(){return this.options.filter((e=>!!e))},totalVotes(){return this.filteredOptions.reduce(((e,t)=>e+t.votes),0)},hasVoted(){return this.voted>0}}});const oe=l();p("data-v-602a9b28");const ne={class:"truncate"},se={class:"ml-2 text-xs opacity-0 poll-result text-tertiary"};v();const ae=oe(((e,t,o,n,s,l)=>(m(),a("div",{class:{"display-results":e.hasVoted}},[(m(!0),a(g,null,x(e.filteredOptions,((t,o)=>(m(),a("div",{key:o+1,tabindex:"0",class:["vote-bars relative py-2 px-4 my-1 text-secondary bg-gray-500 bg-opacity-0 text-sm rounded-md border border-gray-400 border-opacity-50 hover:bg-opacity-10 cursor-pointer flex flex-row justify-between items-center gap-1",{"voted-this":e.voted===o+1}],style:e.styleObj(t.votes),onClick:t=>e.sendPollVote(o+1),onKeyup:c((t=>e.sendPollVote(o+1)),["enter"])},[r("div",ne,i(t.text),1),r("div",se,i(Math.floor(e.getPercentVotes(t.votes)))+"% ",1)],46,["onClick","onKeyup"])))),128))],2))));te.render=ae,te.__scopeId="data-v-602a9b28";var re=s({name:"ReplyInfo",props:{parentRef:{type:Object,required:!1}},methods:{isInView(e){const t=e.getBoundingClientRect();return t.bottom<window.innerHeight-64&&t.top>=48},scrollToParent(){if(!this.parentRef)return;let e=this.parentRef.$el,t=e.getBoundingClientRect().top+window.scrollY-48;this.isInView(e)||window.scrollTo({top:t,behavior:"smooth"}),e.classList.add("animate-highlight"),setTimeout((()=>{e.classList.remove("animate-highlight")}),1200)}}});re.render=function(e,t,o,n,s,r){var l;return m(),a("div",{tabindex:"0",onClick:t[1]||(t[1]=t=>e.scrollToParent()),onKeyup:t[2]||(t[2]=c((t=>e.scrollToParent()),["enter"])),class:"text-xs font-bold bg-color-primary bg-opacity-10 text-color-primary text-opacity-80 max-w-max px-1 py-0.5 rounded-full hover:bg-opacity-20 cursor-pointer select-none"}," @"+i(null==(l=e.parentRef)?void 0:l.subcomment.username),33)};var ie=s({name:"Subcomment",components:{Container:O,Markdown:ee,ReplyInfo:re},props:{subcomment:{type:Object,required:!0},parentRef:{type:Object}},data:()=>({subcommentRefs:b({})}),setup:()=>({store:y()})});ie.render=function(e,t,o,n,s,i){const l=f("ReplyInfo"),c=f("Markdown"),d=f("Container");return m(),a(d,{id:e.subcomment.id,class:"border-l-2 border-gray-500 border-opacity-20",postInfo:{userName:e.subcomment.username,userImgSize:1,date:e.subcomment.timestamp,voted:e.subcomment.voted,numUpvotes:e.subcomment.numupvotes,numDownvotes:e.subcomment.numdownvotes,showSubComments:!1}},{main:w((()=>[e.subcomment.parentcomment!==e.subcomment.toplevelcomment?(m(),a(l,{key:0,parentRef:e.parentRef},null,8,["parentRef"])):u("",!0),r(c,{readMore:!0,rawContent:e.subcomment.content},null,8,["rawContent"])])),_:1},8,["id","postInfo"])};var le=s({name:"Comment",components:{Container:O,Markdown:ee,Subcomment:ie},props:{post:{type:Object,required:!0},toplevelcomment:{type:Object,required:!0}},data:()=>({subcommentRefs:b({})}),methods:{getSubComments:(e,t)=>e.filter((e=>e.toplevelcomment===t)),setItemRef(e,t){e&&(this.subcommentRefs[t]=e)}}});le.render=function(e,t,o,n,s,i){const l=f("Markdown"),u=f("Subcomment"),c=f("Container");return m(),a(c,{id:e.toplevelcomment.id,class:"border-l-2 border-gray-500 border-opacity-20",postInfo:{userName:e.toplevelcomment.username,userImgSize:1.25,date:e.toplevelcomment.timestamp,voted:e.toplevelcomment.voted,numUpvotes:e.toplevelcomment.numupvotes,numDownvotes:e.toplevelcomment.numdownvotes,numComments:e.getSubComments(e.post.comments,e.toplevelcomment.id).length,showSubComments:!0}},{main:w((()=>[r(l,{readMore:!0,rawContent:e.toplevelcomment.content},null,8,["rawContent"])])),comments:w((()=>[(m(!0),a(g,null,x(e.getSubComments(e.post.comments,e.toplevelcomment.id),(t=>(m(),a(u,{key:t.id,ref:o=>{e.setItemRef(o,t.id)},subcomment:t,parentRef:e.subcommentRefs[t.parentcomment]},null,8,["subcomment","parentRef"])))),128))])),_:1},8,["id","postInfo"])};var me=s({name:"Post",components:{Container:O,Meta:X,Markdown:ee,Poll:te,Comment:le},props:{post:{type:Object,required:!0}},data:()=>({tempvote:0}),methods:{getTopLevelComments:e=>e.filter((e=>null===e.toplevelcomment)),pollVote(e){console.log(this.$el.id,e),this.tempvote=e}}});me.render=function(e,t,o,n,s,i){const l=f("Meta"),c=f("Markdown"),d=f("Poll"),p=f("Comment"),v=f("Container");return m(),a(v,{id:e.post.id,tabindex:"1",class:"rounded-md shadow-sm bg-primary",postInfo:{userName:e.post.username,userImgSize:1.5,date:e.post.timestamp,voted:e.post.voted,numUpvotes:e.post.numupvotes,numDownvotes:e.post.numdownvotes,numComments:e.post.comments.length,showSubComments:!0,poll:e.post.poll}},{main:w((()=>[r(l,{channel:e.post.channel,tags:e.post.tags},null,8,["channel","tags"]),r(c,{readMore:!0,rawContent:e.post.content},null,8,["rawContent"]),e.post.poll?(m(),a(d,{key:0,class:"my-2",options:e.post.poll.options,voted:e.tempvote||0*e.post.poll.voted,onClickedEvent:e.pollVote},null,8,["options","voted","onClickedEvent"])):u("",!0)])),comments:w((()=>[(m(!0),a(g,null,x(e.getTopLevelComments(e.post.comments),(t=>(m(),a(p,{key:t.id,toplevelcomment:t,post:e.post},null,8,["toplevelcomment","post"])))),128))])),_:1},8,["id","postInfo"])};var ue=s({name:"Feed",components:{Post:me},setup:()=>({store:y()})});const ce={class:"flex flex-col max-w-2xl gap-4 mx-auto mb-3"};ue.render=function(e,t,o,n,s,r){const i=f("Post");return m(),a("div",ce,[(m(!0),a(g,null,x(e.store.state.data,(e=>(m(),a(i,{key:e.id,tabindex:"1",post:e},null,8,["post"])))),128))])};var de=s({name:"Profile",setup:()=>({Auth:k("Auth")})});const pe={key:0,class:"overflow-x-scroll"};de.render=function(e,t,o,n,s,r){return e.Auth.isAuthenticated.value?(m(),a("pre",pe,i(JSON.stringify(e.Auth.user.value,null,2)),1)):u("",!0)};var ve=s({name:"Cell",props:{title:{type:String,required:!0},value:{type:String,required:!1,default:""},description:{type:String,required:!1,default:""}}});const fe={class:"px-8 py-3 rounded-md shadow-sm bg-primary"},he={class:"flex flex-row items-center justify-between"},ge={class:"text-primary text-md"},xe={key:0,class:"text-sm text-secondary"},be={key:0,class:"text-sm"};ve.render=function(e,t,o,n,s,l){return m(),a("div",fe,[r("div",he,[r("h4",ge,i(e.title),1),e.value?(m(),a("h6",xe,i(e.value),1)):u("",!0)]),e.description?(m(),a("div",be,[r("p",null,i(e.description),1)])):u("",!0)])};var ye=s({name:"CellGroup",props:{title:{type:String,required:!0}}});const we={class:"px-4 pt-6 pb-2"},ke={class:"text-lg text-primary"},Ce={class:"space-y-0.5"};ye.render=function(e,t,o,n,s,l){return m(),a("div",null,[r("div",we,[r("h3",ke,i(e.title),1)]),r("div",Ce,[d(e.$slots,"default")])])};var Ie=s({name:"Settings",components:{Cell:ve,CellGroup:ye},data:()=>({env:"production",gh_sha:"7776bfc2a64cd8356a36192d07b2374a939dbff3",gh_ref:"refs/heads/master"}),setup:()=>({store:y()}),methods:{changeTheme(){this.store.commit("changeTheme")}}});const Se={class:"max-w-lg mx-auto mb-3 -mt-5"};Ie.render=function(e,t,o,n,s,i){const l=f("Cell"),u=f("CellGroup");return m(),a("div",Se,[r(u,{title:"Preferences"},{default:w((()=>[r(l,{title:"Theme",value:e.store.getters.theme,onClick:e.changeTheme,onKeyup:c(e.changeTheme,["enter"]),tabindex:"0"},null,8,["value","onClick","onKeyup"])])),_:1}),r(u,{title:"About"},{default:w((()=>[r(l,{title:"Source Code",tabindex:"0"}),r(l,{title:"Privacy Policy",tabindex:"0"}),r(l,{title:"FAQ",tabindex:"0"})])),_:1}),r(u,{title:"Build Info"},{default:w((()=>[r(l,{title:"Mode",value:e.env},null,8,["value"]),r(l,{title:"SHA",value:e.gh_sha.substr(0,7)},null,8,["value"]),r(l,{title:"Ref",value:e.gh_ref},null,8,["value"]),r(l,{title:"Release",value:"0.0.0"})])),_:1})])};var Te=s({name:"NotFound"});const Re={class:"flex flex-col items-center self-center gap-5 p-12 text-center justify-centertext-center"},qe=r("div",{class:"text-8xl text-color-secondary"},"404",-1),Ae=r("div",{class:"mb-32 text-5xl text-color-primary"},"Page Not Found",-1),Pe=r("div",{class:"w-auto px-4 py-2 text-inverted rounded-md bg-color-primary"},"Back to Home",-1);Te.render=function(e,t,o,n,s,i){const l=f("router-link");return m(),a("div",Re,[qe,Ae,r(l,{to:"/",class:"focus-visible:ring-offset-white focus-visible:ring-offset-2"},{default:w((()=>[Pe])),_:1})])};const _e=[{path:"/",name:"home",component:ue,meta:{scrollPos:{top:0,left:0}}},{path:"/settings",name:"settings",component:Ie},{path:"/me",name:"profile",component:de,beforeEnter:E.routeGuard},{path:"/:pathMatch(.*)*",name:"notfound",component:Te}],Le=C({history:I("/vite-vue-bpgc-conf-client/"),routes:_e,scrollBehavior:(e,t,o)=>{if(e.name===t.name)return e.meta.scrollPos&&(e.meta.scrollPos.top=0),{left:0,top:0};const n=o||e.meta.scrollPos||{left:0,top:0};return new Promise(((e,t)=>{setTimeout((()=>{e(n)}),500)}))}});Le.beforeEach(((e,t,o)=>(t.meta.scrollPos&&(t.meta.scrollPos.top=document.documentElement.scrollTop),o())));var Ee=s({name:"BottomNav"});const Ue=l();p("data-v-d6eaee80");const Me={class:"flex flex-row gap-2 px-3 py-2 text-xs border border-gray-300 rounded-full shadow-lg backdrop-filter backdrop-blur-md bg-bluGry bg-opacity-40"},$e=r("span",{class:"px-4 py-2 text-2xl leading-none rounded-full material-icons material-icons-round hover-effect"},"home",-1),Ne=r("span",{class:"px-4 py-2 text-2xl leading-none rounded-full material-icons material-icons-round hover-effect"},"search",-1),Ve=r("span",{class:"px-4 py-2 text-2xl leading-none rounded-full material-icons material-icons-round hover-effect"},"add_circle",-1),Be=r("span",{class:"px-4 py-2 text-2xl leading-none rounded-full material-icons material-icons-round hover-effect"},"person",-1),je=r("span",{class:"px-4 py-2 text-2xl leading-none rounded-full material-icons material-icons-round hover-effect"},"settings",-1);v();const De=Ue(((e,t,o,n,s,i)=>{const l=f("router-link");return m(),a("div",Me,[r(l,{to:"/",class:"rounded-full"},{default:Ue((()=>[$e])),_:1}),r(l,{to:"/search",class:"rounded-full"},{default:Ue((()=>[Ne])),_:1}),r(l,{to:"/new",class:"rounded-full"},{default:Ue((()=>[Ve])),_:1}),r(l,{to:"/me",class:"rounded-full"},{default:Ue((()=>[Be])),_:1}),r(l,{to:"/settings",class:"rounded-full"},{default:Ue((()=>[je])),_:1})])}));Ee.render=De,Ee.__scopeId="data-v-d6eaee80";var Oe=s({name:"Login",methods:{login(){try{this.Auth.loginWithRedirect()}catch(e){console.error(e),this.Auth.logout()}}},setup:()=>({Auth:k("Auth")})});Oe.render=function(e,t,o,n,s,r){return e.Auth.isAuthenticated.value?u("",!0):(m(),a("div",{key:0,onClick:t[1]||(t[1]=(...t)=>e.login&&e.login(...t)),class:"text-inverted bg-opacity-100 rounded-md cursor-pointer bg-color-primary max-w-max focus-visible:ring-offset-white focus-visible:ring-offset-2",tabindex:"0"}," Login "))};var ze=s({name:"Logout",methods:{logout(){this.Auth.logout(),this.$router.push({path:"/"})}},setup:()=>({Auth:k("Auth")})});ze.render=function(e,t,o,n,s,r){return e.Auth.isAuthenticated.value?(m(),a("div",{key:0,onClick:t[1]||(t[1]=(...t)=>e.logout&&e.logout(...t)),class:"text-inverted bg-opacity-100 rounded-md cursor-pointer bg-color-secondary max-w-max focus-visible:ring-offset-white focus-visible:ring-offset-2",tabindex:"0"}," Logout ")):u("",!0)};var He=s({name:"TopBar",components:{Login:Oe,Logout:ze},setup:()=>({Auth:k("Auth")})});const Ge=l();p("data-v-5abacb36");const Ke={class:"flex flex-row items-center justify-between p-2 mb-4 border-b border-gray-300 shadow-sm backdrop-filter backdrop-blur-md bg-bluGry bg-opacity-40 text-primary"},We=r("h1",{class:"text-2xl"}," BPGCC ",-1),Fe={class:"flex flex-row items-center justify-end gap-2 text-secondary"},Ye={key:0};v();const Je=Ge(((e,t,o,n,s,l)=>{const c=f("Login"),d=f("Logout");return m(),a("div",Ke,[We,r("div",Fe,[e.Auth.isAuthenticated.value?(m(),a("span",Ye,i(e.Auth.user.value.email),1)):u("",!0),r(c,{class:"px-2 py-1"}),r(d,{class:"px-2 py-1"})])])}));He.render=Je,He.__scopeId="data-v-5abacb36";var Qe=s({name:"App",components:{BottomNav:Ee,TopBar:He},methods:{async getToken(){if(!this.Auth.isAuthenticated.value)return;let e=await this.Auth.getTokenSilently();e=JSON.parse(window.atob(e.split(".")[1])),console.log(e)}},created(){document.addEventListener("scroll",this.onScroll)},destroyed(){document.removeEventListener("scroll",this.onScroll)},setup(){const e=y();console.log(e);const t=k("Auth"),o={curr:0,prev:0,pivot:0,dir:1};let n=b(0);return{Auth:t,store:e,onScroll:S(250,!1,(function(){let e=window.scrollY,t=o.curr,s=Math.sign(e-t);(s!==o.dir||e<64||window.scrollY+window.innerHeight>document.documentElement.scrollHeight-96)&&(o.pivot=e),n.value=e-o.pivot,o.prev=o.curr,o.curr=e,o.dir=s})),scrollNormPos:n}}});Qe.render=function(e,t,o,n,s,i){const l=f("TopBar"),u=f("router-view"),c=f("BottomNav");return m(),a(g,null,[r(l,{class:"fixed top-0 left-0 right-0 z-10 duration-1000 ease-out",style:{top:(e.scrollNormPos>0?e.scrollNormPos<200?-1*e.scrollNormPos:-200:0)+"px"}},null,8,["style"]),r(u,null,{default:w((({Component:e})=>[r(h,{name:"fade-down",mode:"out-in"},{default:w((()=>[(m(),a(T,null,[(m(),a(R(e)))],1024))])),_:2},1024)])),_:1}),r(c,{class:"fixed bottom-0 z-10 mb-2 duration-1000 ease-out transform -translate-x-1/2 left-1/2",style:{bottom:(e.scrollNormPos>96?e.scrollNormPos<200?-1*(e.scrollNormPos-96):-200:0)+"px"}},null,8,["style"])],64)};const Xe=q({state:{data:[{id:"1",username:"DumDum",timestamp:1622725827504,voted:1,numupvotes:12,numdownvotes:12,tags:["apple","bananananana","lmaolmao","thodapaisakmao","okbhaii","lol","abesaale"],channel:"general",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",comments:[{id:"2",username:"lmaosama1",timestamp:1622725829504,voted:-1,numupvotes:2,numdownvotes:2,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris",toplevelcomment:null,parentcomment:null},{id:"3",username:"thatguy_",timestamp:1622725831504,voted:-1,numupvotes:2,numdownvotes:2,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",toplevelcomment:"2",parentcomment:"2"},{id:"4",username:"lmaosama3",timestamp:1622725833504,voted:-1,numupvotes:2,numdownvotes:2,content:"lorem ipsum. 13",toplevelcomment:null,parentcomment:null},{id:"5",username:"lmaosama4",timestamp:1622725835504,voted:-1,numupvotes:2,numdownvotes:2,content:"lorem ipsum. 14",toplevelcomment:"2",parentcomment:"3"},{id:"55",username:"randum",timestamp:1622725833504,voted:-1,numupvotes:2,numdownvotes:2,content:"LoL",toplevelcomment:"2",parentcomment:"2"},{id:"6",username:"lmaosamainf",timestamp:1622725836504,voted:1,numupvotes:24,numdownvotes:2,content:"lorem ipsum. inf",toplevelcomment:"2",parentcomment:"5"},{id:"7",username:"lmaosama4",timestamp:1622715835504,voted:0,numupvotes:2,numdownvotes:2,content:"lorem ipsum. dfsgfgs",toplevelcomment:"2",parentcomment:"3"}],poll:{options:[{text:"option1 option1 option1 option1 option1 option1 option1 option1 option1 option1 option1",votes:3},{text:"option2",votes:10},{text:"option3",votes:7}],voted:0}},{id:"11",username:"DumDum",timestamp:1632725827504,voted:0,numupvotes:12,numdownvotes:12,tags:["apple","bananananana","lmaolmaothodapaisakmao","ok"],channel:"general",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",comments:[{id:"12",username:"lmaosama21",timestamp:1632725829504,voted:-1,numupvotes:2,numdownvotes:2,content:"lorem ipsum. 21",toplevelcomment:null,parentcomment:null},{id:"13",username:"lmaosama22",timestamp:1632725831504,voted:-1,numupvotes:2,numdownvotes:2,content:"lorem ipsum. 22",toplevelcomment:"12",parentcomment:"12"},{id:"14",username:"lmaosama23",timestamp:1632725833504,voted:-1,numupvotes:2,numdownvotes:2,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",toplevelcomment:null,parentcomment:null},{id:"15",username:"lmaosama24",timestamp:1632725835504,voted:-1,numupvotes:2,numdownvotes:2,content:"lorem ipsum. 24",toplevelcomment:"12",parentcomment:"13"},{id:"16",username:"randum",timestamp:1632725845504,voted:1,numupvotes:22,numdownvotes:2,content:"LoL",toplevelcomment:null,parentcomment:null}],poll:{options:[{text:"option1 option1 option1 option1 option1 option1 option1 option1 option1 option1 option1",votes:7},{text:"option2",votes:13},{text:"option3",votes:6},{text:"option4",votes:52},null],voted:3}}],prefs:{currTheme:0,allThemes:["light","dark"]}},mutations:{changeTheme(e){let t=e.prefs.currTheme;++t===e.prefs.allThemes.length&&(t=0),e.prefs.currTheme=t}},getters:{theme:e=>e.prefs.allThemes[e.prefs.currTheme]}});Xe.subscribe(((e,t)=>{switch(e.type){case"changeTheme":document.body.setAttribute("data-theme",Xe.getters.theme)}}));(async()=>{const e=await E.init({clientId:"wTKRh3R9dF5oRGMiPTQuRTy0VgWU8EVh",domain:"dev-bpgc.eu.auth0.com",audience:"https://bpgc-confession-api/",useRefrestTokens:!0,redirectUri:window.location.origin,onRedirectCallback:e=>{var t;Le.push(null!=(t=null==e?void 0:e.targetUrl)?t:window.location.pathname)}}),t=A(Qe);t.use(Le),t.use(Xe),t.use(e),t.mount("#app")})();
